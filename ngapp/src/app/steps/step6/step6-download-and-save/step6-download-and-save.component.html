<app-header [step-index]="6"
            header_title="Download and Save"
            [last-step]="true"
            tooltip="Here you can download the final products of the software. The Report will be a Word document
                     with a pilots log including map, timings, wind corrections, distances. The map can be separately
                     downloaded as an image. A .GPX file can be downloaded to import into SkyDemon. And you can save your
                     route locally in a .VFR file (which can be later loaded in the application).">
</app-header>
<div fxLayout='row' fxLayout.lt-sm='column'
     fxLayoutAlign='center center' fxLayoutAlign.lt-sm='start center'
     fxLayoutGap="20px" fxLayoutGap.lt-sm="10px"
     class="content-area"
    >
    <div fxLayout="column">
        <a mat-raised-button (click)="downloadDOCX()">Download DOCX report</a>
        &nbsp;
        <a mat-raised-button (click)="downloadPNG()">Download PNG image</a>
        &nbsp;
        <a mat-raised-button (click)="downloadGPX()">Download GPX file for SkyDemon</a>
        &nbsp;
        <a mat-raised-button (click)="downloadVFR()">Download VFR file (to load here later)</a>
        &nbsp;
        <a mat-raised-button (click)="saveToServer()">Publish route (save on server)</a>
    </div>
    <form [formGroup]="form" fxLayout="column">
        <mat-label>Name of route:</mat-label>
        <mat-form-field fxFlex="100">
            <input type="text"
                   matInput
                   placeholder="Name of route"
                   name="rteName"
                   formControlName="rteName"
                   (change)="changeRouteData()"
            />
        </mat-form-field>
        <mat-label>Planned airspeed:</mat-label>
        <mat-form-field fxFlex="100">
            <input type="number"
                   matInput
                   placeholder="Planned airspeed"
                   name="speed"
                   formControlName="speed"
                   value="90"
                   (change)="changeRouteData()"
            />
        </mat-form-field>
        <mat-label>Date of flight (UTC):</mat-label>
        <mat-form-field fxFlex="100">
            <input type="text" 
                   matInput
                   [matDatepicker]="dofPicker"
                   placeholder="Date of flight (UTC)"
                   name="dof"
                   formControlName="dof"
                   (dateChange)="changeRouteData()"
            />
            <mat-datepicker-toggle matIconSuffix [for]="dofPicker"></mat-datepicker-toggle>
            <mat-datepicker #dofPicker></mat-datepicker>
        </mat-form-field>
        <mat-label>Time of flight (UTC):</mat-label>
        <mat-form-field fxFlex="100">
            <input type="time"
                   matInput
                   placeholder="Time of flight (UTC)"
                   name="tof"
                   formControlName="tof"
                   (change)="changeRouteData()"
            />
        </mat-form-field>
    </form>
</div>